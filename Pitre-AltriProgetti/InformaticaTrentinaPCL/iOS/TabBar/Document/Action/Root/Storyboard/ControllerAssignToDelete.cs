// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using InformaticaTrentinaPCL.Interfaces;
using InformaticaTrentinaPCL.iOS.Helper;
using UIKit;

namespace InformaticaTrentinaPCL.iOS.TabBar.Document.Action.Root.Storyboard
{
	public partial class ControllerAssignToDelete : UIViewController
	{
        String title_ = "";
        Action<SupporTypeAction, String> CallbackClick;
        AbstractRecipient chooseAssign;

		public ControllerAssignToDelete (IntPtr handle) : base (handle)
		{
		}

        public override void ViewDidLoad()
        {
            base.ViewDidLoad();
            Refresh();
            Font.SetCustomStyleFont(labelTitle, Font.LABEL);
            Font.SetCustomStyleFont(labelDesc, Font.LINK_TO_PAGE_SECTION);
            Font.SetCustomStyleFont(labelSubTitle, Font.LINK_TO_PAGE_SECTION);
        }

        public void Refresh()
        {
            labelTitle.Text = title_;
            labelDesc.Text = chooseAssign?.getTitle();
            labelSubTitle.Text = chooseAssign?.getSubtitle();
            var visible = String.IsNullOrEmpty(chooseAssign?.getTitle()) || String.IsNullOrEmpty(chooseAssign?.getSubtitle());
            labelCenter.Hidden = !visible;
            labelDesc.Hidden = visible;
            labelSubTitle.Hidden = visible;
            String nameImage = Utility.GetImageDocument(chooseAssign==null?AbstractRecipient.RecipientType.USER:chooseAssign.getRecipientType());
            image.Image = UIImage.FromBundle(nameImage);
            labelCenter.Text = chooseAssign?.getTitle()?.Length != 0 ? chooseAssign?.getTitle() : (chooseAssign?.getSubtitle()?.Length != 0 ? chooseAssign?.getSubtitle():"");
        }
                            
        public override void ViewDidLayoutSubviews()
        {
            base.ViewDidLayoutSubviews();
        }

        public void ConfigureController(String title_, AbstractRecipient chooseAssign,Action<SupporTypeAction, String> CallbackClick)
        {
            this.title_ = title_;
            this.CallbackClick = CallbackClick;
            this.chooseAssign = chooseAssign;
        }

        partial void ActionButtonDelete(NSObject sender)
        {
            if (CallbackClick != null)
                CallbackClick(SupporTypeAction.DELETE_ASSIGN, string.Empty);
        }

	}
}
