// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using InformaticaTrentinaPCL.iOS.Helper;
using UIKit;

namespace InformaticaTrentinaPCL.iOS.Delega
{
	public partial class UITVCellNewSelected : UITableViewCell
	{
		public UITVCellNewSelected (IntPtr handle) : base (handle)
		{
		}

		SubModelDelegation data;
		public Action Callback;
        public Action CallbackRemoveAssign;

		partial void ActionbuttonPlus(Foundation.NSObject sender)
        {
            if (data.NewDelegation)
            {
                data.title_ = Utility.LanguageConvert("selected_delega");
                data.NewDelegation = false;
                viewNewAssign.Hidden = !data.NewDelegation;     
                CallbackRemoveAssign();
            }
            else
            {
                Callback();    
            }
        }

         public void Update(SubModelDelegation data)
		{
			this.data = data;
            labelTitle.TextColor = UIColor.Black;
            if (data.cellType == CellTypeDelegation.Plus)
            {
                Font.SetCustomStyleFont(labelTitle, Font.LINK_TO_PAGE_SECTION, UITextAlignment.Left);
            }
            if (data.NewDelegation)
            {
                var isVisible = (data.title_ == null || data.title_.Length == 0) || ( data.value_ == null || data.value_.Length == 0);
                var label_title = "";
                var labelDesc = "";

                if (data.title_ != null && data.title_.Length != 0)
                    label_title = data.title_;

                if (data.value_ != null && data.value_.Length != 0)
                    labelDesc = data.value_;
               
                title_.Text = label_title;
                descr.Text = labelDesc;
                labelOneTitle.Hidden = !isVisible;
                title_.Hidden = isVisible;
                descr.Hidden = isVisible;
                labelOneTitle.Text = (label_title.Length == 0) ? labelDesc : label_title;
                Font.SetCustomStyleFont(title_, Font.DOCUMENT_NAME_1, UITextAlignment.Left);
                Font.SetCustomStyleFont(descr, Font.DESCRIPION, UITextAlignment.Left);
            }
            else
            {
                this.labelTitle.Text = data.title_;
            }

            viewNewAssign.Hidden = !data.NewDelegation;
		}
	}
}
