// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using InformaticaTrentinaPCL.iOS.Helper;
using UIKit;

namespace InformaticaTrentinaPCL.iOS.Delega
{
    public partial class UITVCellDelegationDate : UITableViewCell, IUITextFieldDelegate
    {
        SubModelDelegation data;
        public Action<SubModelDelegation> Callback;
        bool IsInit = true;

        public UITVCellDelegationDate(IntPtr handle) : base(handle)
        {
        }

        public void Update(SubModelDelegation data)
        {

            this.data = data;
            labelTitle.Text = data.title_;

            if (IsInit)
            {
                IsInit = false;
                textFieldGG.Delegate = this;
                textFieldMM.Delegate = this;
                textFieldAAAA.Delegate = this;
                textFieldHH.Delegate = this;
                textFieldmm.Delegate = this;
                Font.SetCustomStyleFont(labelTitle, Font.LABEL_DATA);
                Font.SetCustomStyleFont(textFieldGG, Font.DETAILS, UITextAlignment.Center);
                Font.SetCustomStyleFont(textFieldMM, Font.DETAILS, UITextAlignment.Center);
                Font.SetCustomStyleFont(textFieldAAAA, Font.DETAILS, UITextAlignment.Center);
                Font.SetCustomStyleFont(textFieldHH, Font.DETAILS, UITextAlignment.Center);
                Font.SetCustomStyleFont(textFieldmm, Font.DETAILS, UITextAlignment.Center);
            }


            textFieldGG.Placeholder = data.date == null ? Utility.LanguageConvert("gg") : "";
            textFieldMM.Placeholder = data.date == null ? Utility.LanguageConvert("MM") : "";
            textFieldAAAA.Placeholder = data.date == null ? Utility.LanguageConvert("aaaa") : "";
            textFieldHH.Placeholder = data.date == null ? Utility.LanguageConvert("HH") : "";
            textFieldmm.Placeholder = data.date == null ? Utility.LanguageConvert("mm") : "";

            if (data.date != null)
            {
                var split = Utility.splitDateForGGMMAAAAHHmm(data.date);
                textFieldGG.Text = split.Day.ToString();
                textFieldMM.Text = split.Month.ToString();
                textFieldHH.Text = split.Hour.ToString();
                textFieldmm.Text = split.Minute.ToString();
                textFieldAAAA.Text = split.Year.ToString();
            }
        }

        [Export("textFieldDidBeginEditing:")]
        public virtual void EditingStarted(UITextField textField)
        {
            Console.WriteLine("");
        }

        [Export("textFieldShouldBeginEditing:")]
        public virtual bool ShouldBeginEditing(UITextField textField)
        {
            Callback(data);
            return false;
        }




    }
}
