
-- =============================================
-- Author:		FRANCESCO FONZO
-- Create date: 21/02/2013
-- Description:	CONVERSIONE DA ORACLE A SQL SERVER
--				CREAZIONE NUOVA TABELLA DPA_ASS_PREGRESSI CON RELATIVI INDICI		
-- =============================================

DECLARE @CNT INT
  
SET @CNT = (SELECT COUNT(*) FROM SYS.tables WHERE name = 'DPA_ASS_PREGRESSI')    
  
IF (@CNT = 0)
BEGIN
	CREATE TABLE [DOCSADM].[DPA_ASS_PREGRESSI]
	(
		[SYSTEM_ID]				INT		IDENTITY(1,1)	NOT NULL,
		[ID_PREGRESSO]			INT						NOT NULL,
		[ID_REGISTRO]			INT						NULL,
		[ID_DOCUMENTO]			INT						NULL,
		[ID_UTENTE]				INT						NULL,
		[ID_RUOLO]				INT						NULL,
		[TIPO_OPERAZIONE]		CHAR(1)					NULL,
		[DATA]					DATETIME				NULL,
		[ERRORE]				VARCHAR(1024)			NULL,
		[ESITO]					CHAR(1)					NULL,
		[ID_NUM_PROTO_EXCEL]	VARCHAR(255)			NULL,
		
		PRIMARY KEY CLUSTERED 
		(
			[SYSTEM_ID] ASC
		)
		WITH 
		(
			PAD_INDEX  = OFF
			, STATISTICS_NORECOMPUTE  = OFF
			, IGNORE_DUP_KEY = OFF
			, ALLOW_ROW_LOCKS  = ON
			, ALLOW_PAGE_LOCKS  = ON
		) ON [PRIMARY]
	) ON [PRIMARY]


	CREATE NONCLUSTERED INDEX [IX_T_DPA_ASS_PREGRESSIK2] ON [DOCSADM].[DPA_ASS_PREGRESSI] 
	(
		[ID_PREGRESSO] ASC
	)
	WITH 
	(
		PAD_INDEX  = OFF
		, STATISTICS_NORECOMPUTE  = OFF
		, SORT_IN_TEMPDB = OFF
		, IGNORE_DUP_KEY = OFF
		, DROP_EXISTING = OFF
		, ONLINE = OFF
		, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON
	) ON [PRIMARY]

END




                

